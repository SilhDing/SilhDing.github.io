# 1. Virtual Infrastructure Management in Private and Hybrid Clouds 

- OpenNebula: an open source, virtual infrastructure manager that deploys virtualized services on both a local pool of resources and external IaaS clouds
- **Starting point of cloud computing**: EC2 by Amazon: typical IssA. 
- **Public clouds**: commercial cloud providers that offer a **publicly accessible** remote interface for creating and managing VM instances within their proprietary infrastructure.
- **Private clouds**: growing in open source cloud c ing tools that let organizations build their own IaaS clouds using their internal infrastructures. They will not sell capacity through publicly interfaces but provide local users with a flexible and agile private infrastructure to run service workloads within their administrative domains. *Example(?): AppEngine I used when I was working at iQIYI. Docker containers based platform that you may integrate, test, and deploy your application.*
- Public clouds and private in some cases are in hybrid. Private clouds are in fact accessible to external user through the internet interfaces, e.g., AWS by Amazon.


## Virtual Infrastructure Management

- a uniform and homogeneous view of virtualized resources
- manage VMs' life cycle, including all activities
- support configurable resource allocation policies
- adaption to the organization's changing need 

A key component in private/hybrid clouds will be virtual infrastructure (VI) management. Two examples: **OpenNebula** and **Haizea**.

Please note: these two are complementary and can be used to manage VIs in private/hybrid clouds. 
**OpenNebula**: deploy and manage VMs;
**Haizea**: a source lease manager.

## Cloud Ecosystem

- VI management tools for data centers are not enough for private/hybrid clouds. 
- cloud toolkits can help transform existing infrastructure into an IssA cloud with cloud-like interfaces. Their VI management capabilities are limited and lack the features of solutions that specialize in VI management.
- A ecosystem: to span both cloud management and VI management

![-w896](media/15481015153987/15481049700897.jpg)

Developing the OpenNebula is able to make up some disadvantages of conventional VI management. See the picture below.

![-w716](media/15481015153987/15482717624169.jpg)

## OpenNebula architecture

- **Highly modular**: integration with any virtualization platform and third-party component in the cloud ecosystem;
- **Core**: three parts. Image and storage technologies; network fabric; hypervisors
- **support service deployment**: such as web server + database
- **separate scheduler**: VM placement decision
- **management interfaces**: libvirt API
- **able to create hybrid cloud**

## Haizea lease manager

- act as a VM scheduler: key word is "lease"
    - AR lease: must be available at a specific time
    - best-effort lease: provisioned as soon as possible
    - immediate lease: provisioned when requested or not at all
- base: resource slot table

## Experience

