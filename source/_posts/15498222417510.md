## `wifireceiver` design

**Name**: Yihang Ding
**Andrew ID**: yihangd

### decoder design

The file `wifireceiver.m` in fact reverses the process in file `wifitransmitter.m`, following the steps:

1. Level 5: determine the length of front padding and the starting point of the useful signal (by detecting the preamble);
2. Level 4: conduct the reverse Fourier transform and recover signal to -1 and 1;
3. Level 3: remove the preamble padding and recover signal to 0 and 1;
4. Level 2: interleave and convert it into the original orders;
5. Level 1: read the length of the data and extract useful data; convert it to string.

Please note that the most important step above is to find the length of front padding. Here I implement it using preamble checking. Since the preamble code is fixed every time, thus it is feasible to find a piece of consecutive binary code with length of `nfft` that is most similar to preamble, which could be done by `corr2()` in MatLab.

### Infer the length of package

In fact, we do not need to exactly know the length of the package until in level 1. In level 5, the front padding must be removed, which, however, is not necessary to exactly remove the end padding as long as we keep the total length is multiple of `nfft`.

In level 1, since `len` is added in the front of the package, it is easy to extract it and then truncate the real package.

### Libraries used

Except for some functions provided by MatLab itself, no other libraries are exploited.

Some functions used in `wifireceiver.m` includes:

`corr2()`, `ifft()`, `symbol()`, `vitdec()`.

### Performance with variable SNR

I also write a small program to test the performance of this code, which is also included in the submission package. It simply runs 1000 times for each value of SNR and check the error rate. Below is the result.

SNR Value(dB) | 30 | 10 | 5 | 0 | -5 | -8 | -9 | -10
--- | --- | ---| ---| ---| ---| ---| ---| ---
Error Rate | 0/1000 | 0/1000 | 0/1000 | 0/1000 | 0/1000 | 0/1000 | 3/1000 | 9/1000

It shows the minimal SNR that is acceptable for decoding is about -8 dB. 