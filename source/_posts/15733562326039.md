
## Implement New Plugins

### Implement Data Source Plugins

To implement a new data source plugin, simply implement the interface `DataSourcePlugin` under directory `framework/src/main/java/edu/cmu/cs/cs214/hw5/framework/core/`, and implements the following methods which are defined in this interface:

- `String getName()`: this method should return the name (`String`) of your plugin, which will be showed on the GUI of the framework. For example, a CSV file plugin may return "CSV File Data Plugin". 
- `List<String> getParamsNames()`: this method should return a list of `String`, which contains all names of parameters required by your plugin.
    
    For example, if your plugin needs to access a local file in order to extract data, probably you only need one parameter: `file_path`; if you are implementing a web API plugin, you may need to specify more parameters (such as `key`,`token`, etc.). The framework will create one text area for each parameter you specify here and ask users to type in a value for each parameter.

- `List<PostEntry> getData(Map<String, String> params)`: this method is responsible for extracting data from somewhere (determined by the plugin designer) with the given parameters. 

    The input param `params` contains all parameters specified in the previous method `getParamsNames()` and the corresponding values for each parameter. For example, a CSV file plugin may only have one key-value pair in `params`: "file_path" as a key and a file path as a value.

Please note all data extracted should be formatted into a list of `PostEntry`. Later we will give more instruction on building an instance of `PostEntry`.

### Implement Display Plugins

To implement a new display plugin, simply implement the interface DisplayPlugin under directory framework/src/main/java/edu/cmu/cs/cs214/hw5/framework/core/, and implements the following  methods which are defined in this interface:

-  `String getName()`: this method should return the name (`String`) of your plugin, which will be showed on the GUI of the framework. For example, a bar chart display plugin may return "Bar Chart Plugin". 

- `void onRegistered(SocialNetworkDataFramework framework)`: this method is called when a display plugin is registered into the framework. It passes the current framework as a parameter, thus the plugin can query and process the data easily through the APIs provided by the framework.

- `JPanel visualize()`: this method should asks data from the framework and visualize the data in its own way. It should return an instance of `JPanel` and our framework will show this panel on its GUI.

### Build `PostEntry` and `QueryParam`

These two classes are critical in our framework: a single post should be formatted as a `PostEntry` object; `QueryParam` will be used when the display plugin wants to query some entries in a customizable way.

**These two classes are immutable**, and since they may contain many fields, we used builder pattern to implement them, which means that you should use `PostEntryBuilder` and `QueryParamBuilder` to build instances of these two classes, respectively. 

Build a `PostEntry` object:

```java
PostEntry entry = new PostEntry.PostEntryBuilder()
                    .setUserName("Charlie")
                    .setContent("Probably we need to make the 17-214 final exam super easy ...")
                    .setLocation("Pittsburgh, PA")
                    .setLikes(1000)
                    .setReposts(503)
                    .setHashtags(new HashSet<>(Arrays.asList("cmu","exam")))
                    .setTime(LocalDateTime.of(2019, 10, 12, 8, 45, 0, 0))
                    .build();
```

Note that it is not required to set all fields, but we highly recommend to make a post entry as complete as possible as it can make sure your display plugin could always show useful information (e.g., a plugin that shows the geological distribution of all posts cannot return anything if none of these entries has "location").

Build a `QueryParam` object:

```java
QueryParam param = new QueryParam.QueryParamBuilder()
                    .setTimeRange(startTime, endTime)
                    .setNeedSortByPopularity(true)
                    .setMaxNumOfEntries(100)
                    .build();
```
The `QueryParam` in the above code is used when we want to get top 100 of most popular entries that are within a specific time framework. You may refer to the APIs of `QueryParam` class for more possible configuration.


## Run Framework

### Add Plugins to Framework

Once you have implemented your plugins:
- for each of your own data source plugin, add it into the file `src/main/resources/META-INF/services/edu.cmu.cs.cs214.hw5.framework.core.DataSourcePlugin` by adding a line: 
    
        edu.cmu.cs.cs214.hw5.plugins.datasourceplugins.YourPluginClassName
        
- for each of your own display plugin, add it into the file `src/main/resources/META-INF/services/edu.cmu.cs.cs214.hw5.framework.core.DisplayPlugin` by adding a line: 
    
        edu.cmu.cs.cs214.hw5.plugins.displayplugins.YourPluginClassName 
        
### Run the Framework with Plugins

Under the root directory, simply use `gradle run` to run the framework and all registered plugins.
