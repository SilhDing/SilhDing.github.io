## 2. 数组的实现

我们首先用`list`来自定义一个`array`对象。非常可笑的是，这里用`list`来实现一个数组的数据结构。


```python
class Array(object):

    def __init__(self, capacity, fillValue = None):
        self._items = list()
        for count in range(capacity):
            self._items.append(fillValue)

    def __len__(self):
        # len(array)
        return len(self._items)

    def __str__(self):
        # str(a)
        return str(self._items)

    def __iter__(self):
        # for item in array
        return iter(self._items)

    def __getitem__(self, index):
        # array[index]
        return self._items[index]

    def __setitem__(self, index, newItem):
        # array[index] = newItem
        self._items[index] = newItem
        
array = Array(6)
```


```python
len(array)
```




    6




```python
str(array)
```




    '[None, None, None, None, None, None]'




```python
print(array)
```

    [None, None, None, None, None, None]



```python
for i in range(len(array)):
    array[i] = i + 1
array[2] = 10
array[2]
```




    10




```python
print(array)
```

    [1, 2, 10, 4, 5, 6]


类似的方法我们再来写一个`grid`类。


```python
class Grid(object):
    
    def __init__(self, rows, columns, fillValue = None):
        self._data = Array(rows)
        for row in range(rows):
            self._data[row] = Array(columns, fillValue)
            
    def getHeight(self):
        return len(self._data)
    
    def getWidth(self):
        return len(self._data[0])
    
    def __getitem__(self, index):
        '''
        请注意，这个index实际上只是row的值。实际上我们在使用object[i][j]时，
        等效的是一开始为object.__getitem__(i), 返回值是一个Array对象，所以最终等价于
        object.__getitem__(i).__getitem__(j)        
        '''
        return self._data[index]
    
    def __setitem__(self, index, newItem):
        self[index] = newItem
    
    def __str__(self):
        result = ""
        for row in range(self.getHeight()):
            for col in range(self.getWidth()):
                result += str(self._data[row][col]) + " "
            result += "\n"
        return result

grid = Grid(2,3,1)
print(grid)
print(grid[1][2])
grid[1][1] = 10
print(grid)
```

    1 1 1 
    1 1 1 
    
    1
    1 1 1 
    1 10 1 
    



